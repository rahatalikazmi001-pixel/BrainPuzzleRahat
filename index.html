<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Brain Puzzle Rahat</title>
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">
<style>
body { margin:0; background:#fff; color:#111; font-family:Arial; text-align:center; }
#game-container { width:90%; max-width:400px; margin:10px auto; background:#f5f5f5; border:2px solid #111; position:relative; border-radius:20px; overflow:hidden; box-shadow:0 0 15px rgba(0,0,0,0.3);}
#splash, #menu, #about, #game { display:none; width:100%; height:100%; }
#splash { display:flex; flex-direction:column; align-items:center; justify-content:center; }
#loading { font-size:20px; margin-top:20px; }
button { font-size:18px; padding:10px 15px; margin:8px; cursor:pointer; border-radius:10px; border:none; background:#ffcc00; color:#111; font-weight:bold; width:60%; }
.logo-container { display:flex; justify-content:center; align-items:center; gap:10px; margin-bottom:20px; font-size:28px; }
#question { font-size:22px; margin:20px 0; font-weight:bold; }
#options-container { display:flex; justify-content:center; flex-wrap:wrap; gap:10px; margin-bottom:20px; }
.option { font-size:32px; cursor:pointer; padding:10px; border-radius:10px; border:2px solid #111; background:#e0e0e0; user-select:none; width:60px; height:60px; display:flex; justify-content:center; align-items:center; }
.option.correct { background:#8f8; border-color:#4a4; }
.option.wrong { background:#f88; border-color:#a44; }
</style>
</head>
<body>
<div id="game-container">

  <!-- Splash Screen -->
  <div id="splash">
    <div class="logo-container">
      <span>ðŸ§ </span>
      <span>Brain Puzzle Rahat</span>
      <span>ðŸ’¡</span>
    </div>
    <div id="loading">Loading... 0%</div>
  </div>

  <!-- Main Menu -->
  <div id="menu">
    <div class="logo-container">
      <span>ðŸ§ </span>
      <span>Brain Puzzle Rahat</span>
      <span>ðŸ’¡</span>
    </div>
    <button onclick="startGame()">Start Game</button>
    <button onclick="showAbout()">About</button>
    <p>Coins: <span id="coins-menu">0</span></p>
  </div>

  <!-- Game Screen -->
  <div id="game">
    <h2 id="level-title">Level 1</h2>
    <p>Coins: <span id="coins-game">0</span></p>
    <div id="question">Question will appear here</div>
    <div id="options-container"></div>
    <button onclick="nextLevel()">Next Level</button>
    <button onclick="backMenuFromGame()">Back to Menu</button>
  </div>

  <!-- About Screen -->
  <div id="about">
    <h3>About</h3>
    <p>THIS GAME CREATED BY RAHAT IN 2025</p>
    <p>MADE IN PAKISTAN</p>
    <button onclick="backMenu()">Back</button>
  </div>
</div>

<script>
let coins = parseInt(localStorage.getItem('coins')) || 0;
let currentLevel = parseInt(localStorage.getItem('level')) || 1;
let completedLevels = JSON.parse(localStorage.getItem('completedLevels')) || [];

// Elements
const splash = document.getElementById('splash');
const loadingText = document.getElementById('loading');
const menu = document.getElementById('menu');
const game = document.getElementById('game');
const about = document.getElementById('about');
const coinsTextGame = document.getElementById('coins-game');
const coinsTextMenu = document.getElementById('coins-menu');
const levelTitle = document.getElementById('level-title');
const questionEl = document.getElementById('question');
const optionsContainer = document.getElementById('options-container');

// Splash Loading
let loading = 0;
let loadInterval = setInterval(() => {
  loading += 5;
  if(loading>100) loading=100;
  loadingText.innerText="Loading... "+loading+"%";
  if(loading>=100){
    clearInterval(loadInterval);
    splash.style.display="none";
    menu.style.display="block";
    updateCoins();
  }
},100);

function updateCoins(){
  coinsTextGame.innerText=coins;
  coinsTextMenu.innerText=coins;
  localStorage.setItem('coins',coins);
}

function updateLevel(){
  levelTitle.innerText="Level "+currentLevel;
  localStorage.setItem('level',currentLevel);
  showPuzzle(currentLevel);
}

function startGame(){ menu.style.display="none"; game.style.display="block"; updateCoins(); updateLevel(); }
function showAbout(){ menu.style.display="none"; about.style.display="block"; }
function backMenu(){ about.style.display="none"; menu.style.display="block"; updateCoins(); }
function backMenuFromGame(){ game.style.display="none"; menu.style.display="block"; updateCoins(); }

// Quiz Data (question, options, correct)
const quizData = [
  {question:"Click the tree", options:["ðŸŽ„","ðŸš—","ðŸˆ","ðŸ "], answer:"ðŸŽ„"},
  {question:"Click the car", options:["ðŸŽ„","ðŸš—","ðŸˆ","ðŸ "], answer:"ðŸš—"},
  {question:"Click the dog", options:["ðŸ•","ðŸˆ","ðŸ–","ðŸ› ï¸"], answer:"ðŸ•"},
  {question:"Click the cat", options:["ðŸˆ","ðŸ•","ðŸŒ³","ðŸŒ·"], answer:"ðŸˆ"},
  {question:"Click the house", options:["ðŸ ","ðŸ§â€â™‚ï¸","ðŸŒ³","ðŸ–"], answer:"ðŸ "}
];

// Show puzzle / quiz
function showPuzzle(level){
  // prevent repeated level
  if(completedLevels.includes(level)) return;
  const data = quizData[(level-1)%quizData.length];
  questionEl.innerText = data.question;
  optionsContainer.innerHTML = "";
  data.options.forEach(opt=>{
    const div = document.createElement('div');
    div.classList.add('option');
    div.innerText = opt;
    div.onclick = ()=>{
      if(div.innerText === data.answer){
        div.classList.add('correct');
        coins += 1000;
        alert("Correct! +1000 Coins");
      } else {
        div.classList.add('wrong');
        alert("Wrong!");
      }
      completedLevels.push(level);
      localStorage.setItem('completedLevels', JSON.stringify(completedLevels));
      updateCoins();
    }
    optionsContainer.appendChild(div);
  });
}

function nextLevel(){
  currentLevel++;
  updateLevel();
}
</script>
</body>
      </html>
