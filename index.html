<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Brain Puzzle Rahat</title>
<style>
/* Mobile portrait style */
body { margin:0; background:#fff; color:#111; font-family:Arial; text-align:center; }
#game-container { width:400px; height:750px; margin:10px auto; background:#f5f5f5; border:2px solid #111; position:relative; border-radius:20px; overflow:hidden; box-shadow:0 0 15px rgba(0,0,0,0.3);}
#splash, #menu, #about, #game { display:none; width:100%; height:100%; }
#splash { display:flex; flex-direction:column; align-items:center; justify-content:center; }
#loading { font-size:20px; margin-top:20px; }
button { font-size:18px; padding:10px 15px; margin:8px; cursor:pointer; border-radius:10px; border:none; background:#ffcc00; color:#111; font-weight:bold; width:60%; }
.logo-container { display:flex; justify-content:center; align-items:center; gap:10px; margin-bottom:20px; font-size:28px; }
#puzzle-container { position:relative; width:100%; height:500px; margin-top:10px; border:1px solid #ccc; border-radius:10px; background:#e0e0e0; overflow:hidden;}
.object { position:absolute; font-size:32px; cursor:pointer; user-select:none; }
</style>
</head>
<body>
<div id="game-container">
  <!-- Splash Screen -->
  <div id="splash">
    <div class="logo-container">
      <span>🧠</span>
      <span>Brain Puzzle Rahat</span>
      <span>💡</span>
    </div>
    <div id="loading">Loading... 0%</div>
  </div>

  <!-- Main Menu -->
  <div id="menu">
    <div class="logo-container">
      <span>🧠</span>
      <span>Brain Puzzle Rahat</span>
      <span>💡</span>
    </div>
    <button onclick="startGame()">Start Game</button>
    <button onclick="showAbout()">About</button>
    <p>Coins: <span id="coins-menu">0</span></p>
  </div>

  <!-- Game Screen -->
  <div id="game">
    <h2 id="level-title">Level 1</h2>
    <p>Coins: <span id="coins-game">0</span></p>
    <div id="puzzle-container"></div>
    <button onclick="nextLevel()">Submit Answer</button>
    <button onclick="backMenuFromGame()">Back to Menu</button>
  </div>

  <!-- About Screen -->
  <div id="about">
    <h3>About</h3>
    <p>THIS GAME CREATED BY RAHAT IN 2025</p>
    <p>MADE IN PAKISTAN</p>
    <button onclick="backMenu()">Back</button>
  </div>
</div>

<script>
let coins = parseInt(localStorage.getItem('coins')) || 0;
let currentLevel = parseInt(localStorage.getItem('level')) || 1;

// Elements
const splash = document.getElementById('splash');
const loadingText = document.getElementById('loading');
const menu = document.getElementById('menu');
const game = document.getElementById('game');
const about = document.getElementById('about');
const coinsTextGame = document.getElementById('coins-game');
const coinsTextMenu = document.getElementById('coins-menu');
const levelTitle = document.getElementById('level-title');
const puzzleContainer = document.getElementById('puzzle-container');

// Splash Loading
let loading = 0;
let loadInterval = setInterval(() => {
  loading += 5;
  if(loading>100) loading=100;
  loadingText.innerText="Loading... "+loading+"%";
  if(loading>=100){
    clearInterval(loadInterval);
    splash.style.display="none";
    menu.style.display="block";
    updateCoins();
  }
},100);

function updateCoins(){
  coinsTextGame.innerText=coins;
  coinsTextMenu.innerText=coins;
  localStorage.setItem('coins',coins);
}

function updateLevel(){
  levelTitle.innerText="Level "+currentLevel;
  localStorage.setItem('level',currentLevel);
  showPuzzle(currentLevel);
}

function startGame(){ menu.style.display="none"; game.style.display="block"; updateCoins(); updateLevel(); }
function showAbout(){ menu.style.display="none"; about.style.display="block"; }
function backMenu(){ about.style.display="none"; menu.style.display="block"; updateCoins(); }
function backMenuFromGame(){ game.style.display="none"; menu.style.display="block"; updateCoins(); }

// Objects list
const objectsList = ["🎄","🚗","🐈","🐕","🧍‍♂️","🏠","🍖","🛠️","🌳","🌷"];

// Generate objects for level
function showPuzzle(level){
  puzzleContainer.innerHTML="";
  const usedIndexes = new Set();
  const totalObjects = 5 + Math.floor(Math.random()*3); // 5-7 objects
  for(let i=0;i<totalObjects;i++){
    let idx;
    do { idx = Math.floor(Math.random()*objectsList.length); } while(usedIndexes.has(idx));
    usedIndexes.add(idx);
    const obj = document.createElement('div');
    obj.classList.add('object');
    obj.innerText = objectsList[idx];
    obj.style.top = (50 + Math.random()*400) + "px";
    obj.style.left = (20 + Math.random()*300) + "px";
    obj.onclick = ()=>{ 
      coins+=1000; 
      currentLevel++; 
      updateCoins(); 
      updateLevel(); 
      alert("Correct! +1000 Coins"); 
    }
    puzzleContainer.appendChild(obj);
  }
}

function nextLevel(){
  updateLevel();
}
</script>
</body>
</html>
